<div class="pagina-detalhes">
  <button class="btn-voltar" (click)="voltar()">‚Üê Voltar</button>

  <div *ngIf="carregando" class="loading">Carregando...</div>
  <div *ngIf="erro" class="erro">{{ erro }}</div>

  <div *ngIf="!carregando && !erro && livro" class="conteudo">
    <!-- Se√ß√£o Principal -->
    <div class="secao-principal">
      <!-- Capa do Livro -->
      <div class="capa-container">
        <img [src]="getImagemLivro()" [alt]="getTitulo()" class="capa-livro">
      </div>

      <!-- Informa√ß√µes e A√ß√µes -->
      <div class="info-container">
        <h1 class="titulo-livro">{{ getTitulo() }}</h1>

        <!-- √çcones de Status -->
        <div class="status-icons">
          <button class="icon-btn" title="Visualizado">
            <span class="icon">üëÅÔ∏è</span>
          </button>
          <button 
            class="icon-btn" 
            [class.active]="livroFinalizado"
            (click)="toggleFinalizado()"
            title="Marcar como conclu√≠do">
            <span class="icon">‚è±Ô∏è</span>
            <span class="label">{{ livroFinalizado ? 'Livro conclu√≠do' : 'Marcar conclu√≠do' }}</span>
          </button>
          <button class="icon-btn" title="Favorito">
            <span class="icon">‚ô•Ô∏è</span>
          </button>
        </div>

        <!-- Avalia√ß√£o com Estrelas -->
        <div class="avaliacao-section">
          <h3>Sua Avalia√ß√£o</h3>
          <div class="estrelas">
            <span 
              *ngFor="let star of getRatingArray()"
              class="estrela"
              [class.filled]="star <= (hoverRating || avaliacaoUsuario)"
              (click)="setRating(star)"
              (mouseenter)="setHoverRating(star)"
              (mouseleave)="resetHoverRating()">
              ‚òÖ
            </span>
          </div>
        </div>

        <!-- Descri√ß√£o do Livro -->
        <div class="descricao-section">
          <h3>Sobre o Livro</h3>
          <p class="descricao" [innerHTML]="getDescricao()"></p>
        </div>
      </div>
    </div>

    <!-- Se√ß√£o de Coment√°rio -->
    <div class="secao-comentario">
      <h3>Seu Coment√°rio</h3>
      <textarea 
        class="comentario-input"
        [(ngModel)]="comentarioUsuario"
        placeholder="Coment√°rio muito babado sobre o livro"
        rows="5">
      </textarea>
      <button class="btn-salvar" (click)="salvarAvaliacao()">
        Salvar Avalia√ß√£o
      </button>
    </div>

    <!-- Informa√ß√µes do Autor -->
    <div class="secao-autor">
      <h2>Sobre o Autor</h2>
      <div class="autor-info">
        <div class="autor-foto">
          <div class="placeholder-foto">üìö</div>
        </div>
        <div class="autor-texto">
          <h3>{{ getAutores() }}</h3>
          <p class="autor-bio">
            {{ getAutores() }} √© o autor deste livro. 
            Mais informa√ß√µes sobre o autor podem ser adicionadas aqui quando dispon√≠veis.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>